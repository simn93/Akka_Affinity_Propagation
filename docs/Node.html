<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc (1.8.0_131) on Sat Jul 08 00:28:42 CEST 2017 -->
<title>Node</title>
<meta name="date" content="2017-07-08">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Node";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Node.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="Neighbors.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="Ready.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Node.html" target="_top">Frames</a></li>
<li><a href="Node.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.akka.actor.AbstractActor">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h2 title="Class Node" class="title">Class Node</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>akka.actor.AbstractActor</li>
<li>
<ul class="inheritance">
<li>Node</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>akka.actor.Actor</dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">Node</span>
extends akka.actor.AbstractActor</pre>
<div class="block">Class for cloud node management</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Simone Schirinzi</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.akka.actor.AbstractActor">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;akka.actor.AbstractActor</h3>
<code>akka.actor.AbstractActor.ActorContext, akka.actor.AbstractActor.Receive</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.akka.actor.Actor">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;akka.actor.Actor</h3>
<code>akka.actor.Actor.emptyBehavior$, akka.actor.Actor.ignoringBehavior$</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private akka.actor.ActorRef[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#a_not_infinite_neighbors">a_not_infinite_neighbors</a></span></code>
<div class="block">Vector of references to such actors that s_col [i]!</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#a_received">a_received</a></span></code>
<div class="block">Counter of Availability received from Other Nodes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#a_reference">a_reference</a></span></code>
<div class="block">Vector of indexes of such actors that s_col [i]!</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#a_row">a_row</a></span></code>
<div class="block">Remembers the availability received from other nodes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private akka.actor.ActorRef</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#aggregator">aggregator</a></span></code>
<div class="block">Link to the actor responsible for generating the cluster.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#col_infinity">col_infinity</a></span></code>
<div class="block">Denotes the number of nodes such that s_col[i] = -INF</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private akka.actor.ActorRef</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#dispatcher">dispatcher</a></span></code>
<div class="block">Link to the actor responsible for initializing the nodes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#iteration">iteration</a></span></code>
<div class="block">Iteration variable.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private akka.actor.ActorRef[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#neighbors">neighbors</a></span></code>
<div class="block">Vector containing references to all actors in the cluster.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#optimize">optimize</a></span></code>
<div class="block">Flags to enable some optimizations to reduce the number of exchanged node messages.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#r_col">r_col</a></span></code>
<div class="block">Remembers the responsibilities received from other nodes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private akka.actor.ActorRef[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#r_not_infinite_neighbors">r_not_infinite_neighbors</a></span></code>
<div class="block">Vector of references to such actors that s_row [i]!</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#r_received">r_received</a></span></code>
<div class="block">Counter of Responsibility received from Other Nodes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#r_reference">r_reference</a></span></code>
<div class="block">Vector of indexes of such actors that s_row [i]!</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#row_infinity">row_infinity</a></span></code>
<div class="block">Denotes the number of nodes such that s_row[i] = -INF</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#s_col">s_col</a></span></code>
<div class="block">Column vector of similarity of interest for the node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#s_row">s_row</a></span></code>
<div class="block">Vector line of similarity of interest for the node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#self">self</a></span></code>
<div class="block">Node identifier
 Received from the Initialize message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#sendOptimize">sendOptimize</a></span></code>
<div class="block">Flags to enable some optimizations to reduce the complexity of the calculations

 In the calculation of responsibilities,
 it computes only one time
 the maximum of the set {a_row [i] + s_row [i]}
 and only between nodes with non infinite similarity</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#size">size</a></span></code>
<div class="block">Indicates the number of nodes initiated by the algorithm.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="Node.html#Node-akka.actor.ActorRef-akka.actor.ActorRef-">Node</a></span>(akka.actor.ActorRef&nbsp;aggregator,
    akka.actor.ActorRef&nbsp;dispatcher)</code>
<div class="block">Create a node
 Initializes iteration variables
 Send a hello message to the dispatcher</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#a--">a</a></span>()</code>
<div class="block">Self availability is updated differently.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#a-double-">a</a></span>(double&nbsp;sum)</code>
<div class="block">Compute r(k,k) in an optimized way
 We don't need r(k,K) in "sum"</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#a-int-">a</a></span>(int&nbsp;i)</code>
<div class="block">Compute a(i,k).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#a-int-double-">a</a></span>(int&nbsp;i,
 double&nbsp;sum)</code>
<div class="block">Compute r(i,k) in an optimized way</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#availabilityHandler-Availability-">availabilityHandler</a></span>(<a href="Availability.html" title="class in &lt;Unnamed&gt;">Availability</a>&nbsp;availability)</code>
<div class="block">Receive the message.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>akka.actor.AbstractActor.Receive</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#createReceive--">createReceive</a></span>()</code>
<div class="block">Receive builder</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#dieHandler-Die-">dieHandler</a></span>(<a href="Die.html" title="class in &lt;Unnamed&gt;">Die</a>&nbsp;msg)</code>
<div class="block">If more nodes are created than necessary,
 the dispatcher sends a message to the node.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#initializeHandler-Initialize-">initializeHandler</a></span>(<a href="Initialize.html" title="class in &lt;Unnamed&gt;">Initialize</a>&nbsp;init)</code>
<div class="block">Handler for the initialization message</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#neighborsHandler-Neighbors-">neighborsHandler</a></span>(<a href="Neighbors.html" title="class in &lt;Unnamed&gt;">Neighbors</a>&nbsp;neigh)</code>
<div class="block">Handler for neighbors message

 If optimize is True:
 let -/&gt; : not send to

 i -/&gt; k responsibility if s(i,k) = -INF
 r(i,k) = -INF
 i -/&gt; k availability if s(k,i) = -INF
 a(i,k) !</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#postStop--">postStop</a></span>()</code>
<div class="block">The termination phase is started by the aggregator.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#r-int-">r</a></span>(int&nbsp;k)</code>
<div class="block">Compute r(i,k).</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#r-int-int-double-double-">r</a></span>(int&nbsp;k,
 int&nbsp;firstK,
 double&nbsp;firstMax,
 double&nbsp;secondMax)</code>
<div class="block">Compute r(i,k) in an optimized way.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#responsibilityHandler-Responsibility-">responsibilityHandler</a></span>(<a href="Responsibility.html" title="class in &lt;Unnamed&gt;">Responsibility</a>&nbsp;responsibility)</code>
<div class="block">Receive the message.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#sendAvailability--">sendAvailability</a></span>()</code>
<div class="block">Send Availability to other node

 If it optimizes the sending of messages,
 it only sends to a_not_infinite_neighbors.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#sendResponsibility--">sendResponsibility</a></span>()</code>
<div class="block">Send responsibility to other node

 If it optimizes the sending of messages,
 it only sends to r_not_infinite_neighbors.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="Node.html#standardSetting--">standardSetting</a></span>()</code>
<div class="block">Initializes iteration variables.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.akka.actor.AbstractActor">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;akka.actor.AbstractActor</h3>
<code>akka$actor$Actor$_setter_$context_$eq, akka$actor$Actor$_setter_$self_$eq, aroundPostRestart, aroundPostStop, aroundPreRestart, aroundPreStart, aroundReceive, context, emptyBehavior, getContext, getSelf, getSender, postRestart, preRestart, preRestart, preStart, receive, receiveBuilder, self, sender, supervisorStrategy, unhandled</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="dispatcher">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispatcher</h4>
<pre>private&nbsp;akka.actor.ActorRef dispatcher</pre>
<div class="block">Link to the actor responsible for initializing the nodes.
 Received when creating the node.
 A newly created node sends a self () message</div>
</li>
</ul>
<a name="aggregator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregator</h4>
<pre>private&nbsp;akka.actor.ActorRef aggregator</pre>
<div class="block">Link to the actor responsible for generating the cluster.
 Received when creating the node.
 Each node periodically sends a Value () message to check the algorithm's performance.</div>
</li>
</ul>
<a name="s_row">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>s_row</h4>
<pre>private&nbsp;double[] s_row</pre>
<div class="block">Vector line of similarity of interest for the node.
 Received from the Initialize message.</div>
</li>
</ul>
<a name="s_col">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>s_col</h4>
<pre>private&nbsp;double[] s_col</pre>
<div class="block">Column vector of similarity of interest for the node.
 Received from the Initialize message.</div>
</li>
</ul>
<a name="self">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>self</h4>
<pre>private&nbsp;int self</pre>
<div class="block">Node identifier
 Received from the Initialize message.</div>
</li>
</ul>
<a name="neighbors">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>neighbors</h4>
<pre>private&nbsp;akka.actor.ActorRef[] neighbors</pre>
<div class="block">Vector containing references to all actors in the cluster.
 Received from the Neighbors message.</div>
</li>
</ul>
<a name="size">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>private&nbsp;int size</pre>
<div class="block">Indicates the number of nodes initiated by the algorithm.
 Received from the Neighbors message.</div>
</li>
</ul>
<a name="iteration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iteration</h4>
<pre>private&nbsp;long iteration</pre>
<div class="block">Iteration variable.
 Indicates the current iteration number.</div>
</li>
</ul>
<a name="r_col">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>r_col</h4>
<pre>private&nbsp;double[] r_col</pre>
<div class="block">Remembers the responsibilities received from other nodes.
 A node k receives r(i, k) from node i.
 R_col[i] = r[i][k]</div>
</li>
</ul>
<a name="a_row">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>a_row</h4>
<pre>private&nbsp;double[] a_row</pre>
<div class="block">Remembers the availability received from other nodes.
 A node k receives a(k, i) from node i.
 A_row[i] = a[k][i]</div>
</li>
</ul>
<a name="r_received">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>r_received</h4>
<pre>private&nbsp;int r_received</pre>
<div class="block">Counter of Responsibility received from Other Nodes.
 It is initialized at 0 at the beginning of each iteration</div>
</li>
</ul>
<a name="a_received">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>a_received</h4>
<pre>private&nbsp;int a_received</pre>
<div class="block">Counter of Availability received from Other Nodes.
 It is initialized at 0 at the beginning of each iteration</div>
</li>
</ul>
<a name="sendOptimize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendOptimize</h4>
<pre>private&nbsp;boolean sendOptimize</pre>
<div class="block">Flags to enable some optimizations to reduce the complexity of the calculations

 In the calculation of responsibilities,
 it computes only one time
 the maximum of the set {a_row [i] + s_row [i]}
 and only between nodes with non infinite similarity</div>
</li>
</ul>
<a name="optimize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>optimize</h4>
<pre>private&nbsp;boolean optimize</pre>
<div class="block">Flags to enable some optimizations to reduce the number of exchanged node messages.
 Avoid sending messages to the nodes with which it has infinite similarity</div>
</li>
</ul>
<a name="row_infinity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>row_infinity</h4>
<pre>private&nbsp;int row_infinity</pre>
<div class="block">Denotes the number of nodes such that s_row[i] = -INF</div>
</li>
</ul>
<a name="col_infinity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>col_infinity</h4>
<pre>private&nbsp;int col_infinity</pre>
<div class="block">Denotes the number of nodes such that s_col[i] = -INF</div>
</li>
</ul>
<a name="r_not_infinite_neighbors">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>r_not_infinite_neighbors</h4>
<pre>private&nbsp;akka.actor.ActorRef[] r_not_infinite_neighbors</pre>
<div class="block">Vector of references to such actors that s_row [i]! = -INF</div>
</li>
</ul>
<a name="a_not_infinite_neighbors">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>a_not_infinite_neighbors</h4>
<pre>private&nbsp;akka.actor.ActorRef[] a_not_infinite_neighbors</pre>
<div class="block">Vector of references to such actors that s_col [i]! = -INF</div>
</li>
</ul>
<a name="r_reference">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>r_reference</h4>
<pre>private&nbsp;int[] r_reference</pre>
<div class="block">Vector of indexes of such actors that s_row [i]! = -INF
 r_not_infinite_neighbors[i].ID == r_reference[i]</div>
</li>
</ul>
<a name="a_reference">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>a_reference</h4>
<pre>private&nbsp;int[] a_reference</pre>
<div class="block">Vector of indexes of such actors that s_col [i]! = -INF
 a_not_infinite_neighbors[i].ID == a_reference[i]</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Node-akka.actor.ActorRef-akka.actor.ActorRef-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Node</h4>
<pre>public&nbsp;Node(akka.actor.ActorRef&nbsp;aggregator,
            akka.actor.ActorRef&nbsp;dispatcher)</pre>
<div class="block">Create a node
 Initializes iteration variables
 Send a hello message to the dispatcher</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aggregator</code> - link to aggregator</dd>
<dd><code>dispatcher</code> - link to dispatcher</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="standardSetting--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>standardSetting</h4>
<pre>private&nbsp;void&nbsp;standardSetting()</pre>
<div class="block">Initializes iteration variables.
 Enables both optimization flags</div>
</li>
</ul>
<a name="postStop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postStop</h4>
<pre>public&nbsp;void&nbsp;postStop()</pre>
<div class="block">The termination phase is started by the aggregator.
 It sends a poison pill to the node.
 Akka lets you run a last function on the node.
 This also ends the systems connected to the nodes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>postStop</code>&nbsp;in interface&nbsp;<code>akka.actor.Actor</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>postStop</code>&nbsp;in class&nbsp;<code>akka.actor.AbstractActor</code></dd>
</dl>
</li>
</ul>
<a name="createReceive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createReceive</h4>
<pre>public&nbsp;akka.actor.AbstractActor.Receive&nbsp;createReceive()</pre>
<div class="block">Receive builder</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>createReceive</code>&nbsp;in class&nbsp;<code>akka.actor.AbstractActor</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Node message manager</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Initialize.html" title="class in &lt;Unnamed&gt;"><code>Initialize</code></a>, 
<a href="Neighbors.html" title="class in &lt;Unnamed&gt;"><code>Neighbors</code></a>, 
<a href="Start.html" title="class in &lt;Unnamed&gt;"><code>Start</code></a>, 
<a href="Die.html" title="class in &lt;Unnamed&gt;"><code>Die</code></a>, 
<a href="Responsibility.html" title="class in &lt;Unnamed&gt;"><code>Responsibility</code></a>, 
<a href="Availability.html" title="class in &lt;Unnamed&gt;"><code>Availability</code></a></dd>
</dl>
</li>
</ul>
<a name="initializeHandler-Initialize-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeHandler</h4>
<pre>private&nbsp;void&nbsp;initializeHandler(<a href="Initialize.html" title="class in &lt;Unnamed&gt;">Initialize</a>&nbsp;init)</pre>
<div class="block">Handler for the initialization message</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>init</code> - received message</dd>
</dl>
</li>
</ul>
<a name="neighborsHandler-Neighbors-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>neighborsHandler</h4>
<pre>private&nbsp;void&nbsp;neighborsHandler(<a href="Neighbors.html" title="class in &lt;Unnamed&gt;">Neighbors</a>&nbsp;neigh)</pre>
<div class="block">Handler for neighbors message

 If optimize is True:
 let -/&gt; : not send to

 i -/&gt; k responsibility if s(i,k) = -INF
 r(i,k) = -INF
 i -/&gt; k availability if s(k,i) = -INF
 a(i,k) != -INF
 but is not influential for k
 when he compute r(k,j) = s(k,j) - max{a(k,i) + -INF}

 col_infinity : The node which cannot reach me
 row_infinity : The node i cannot reach

 if s_col[i] is infinity
 r_col[i] must be set to infinity

 In addition, the carriers of links to infinite nodes are initialized

 When finished all operations
 send a Ready() message to the dispatcher.
 The node thus remains awaiting a Start() message</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>neigh</code> - received message</dd>
</dl>
</li>
</ul>
<a name="dieHandler-Die-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dieHandler</h4>
<pre>private&nbsp;void&nbsp;dieHandler(<a href="Die.html" title="class in &lt;Unnamed&gt;">Die</a>&nbsp;msg)</pre>
<div class="block">If more nodes are created than necessary,
 the dispatcher sends a message to the node.
 The node is useless for computing purposes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - received</dd>
</dl>
</li>
</ul>
<a name="responsibilityHandler-Responsibility-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>responsibilityHandler</h4>
<pre>private&nbsp;void&nbsp;responsibilityHandler(<a href="Responsibility.html" title="class in &lt;Unnamed&gt;">Responsibility</a>&nbsp;responsibility)</pre>
<div class="block">Receive the message.
 Refresh the saved value by damping it with a lambda factor.

 Increments the responsibility counter received,
 and possibly submits the availability</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>responsibility</code> - received</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Responsibility.html" title="class in &lt;Unnamed&gt;"><code>Responsibility</code></a></dd>
</dl>
</li>
</ul>
<a name="availabilityHandler-Availability-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>availabilityHandler</h4>
<pre>private&nbsp;void&nbsp;availabilityHandler(<a href="Availability.html" title="class in &lt;Unnamed&gt;">Availability</a>&nbsp;availability)</pre>
<div class="block">Receive the message.
 Refresh the saved value by damping it with a lambda factor.

 Increments the availability counter received,
 and possibly submits the responsibility

 It also undertakes to send a Value() message to the aggregator.
 This value is calculated
 as the sum of self-responsibility and self-availability.

 Increase iteration counter</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>availability</code> - received</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Availability.html" title="class in &lt;Unnamed&gt;"><code>Availability</code></a></dd>
</dl>
</li>
</ul>
<a name="sendResponsibility--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendResponsibility</h4>
<pre>private&nbsp;void&nbsp;sendResponsibility()</pre>
<div class="block">Send responsibility to other node

 If it optimizes the sending of messages,
 it only sends to r_not_infinite_neighbors.
 Otherwise he sends it to neighbors.

 If it optimizes the responsibility calculation,
 it pre-calculates the maximum
 of the set {a_row [i] + s_row [i]},
 possibly iterating only on such nodes
 that s_row [i] is not infinite.
 Keeps Memory The first bigger value,
 the index of the node to which it refers, is k,
 and the second largest value.
 The calculation of the responsibility is obtained
 by subtracting the maximum from s_row[j],
 except if k == j. In this case
 the second maximum is subtracted.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Responsibility.html" title="class in &lt;Unnamed&gt;"><code>Responsibility</code></a></dd>
</dl>
</li>
</ul>
<a name="sendAvailability--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendAvailability</h4>
<pre>private&nbsp;void&nbsp;sendAvailability()</pre>
<div class="block">Send Availability to other node

 If it optimizes the sending of messages,
 it only sends to a_not_infinite_neighbors.
 Otherwise he sends it to neighbors.

 If it optimizes the responsibility calculation,
 it undertakes to pre-compute
 the sum of the positive values
 of the set {r_col [i]},
 possibly iterating only on such nodes
 that s_col[i] is not infinite.
 The calculation of availability is obtained
 by subtracting r_col[j] from that sum
 only if r_col[j] is positive.</div>
</li>
</ul>
<a name="r-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>r</h4>
<pre>private&nbsp;double&nbsp;r(int&nbsp;k)</pre>
<div class="block">Compute r(i,k).
 Responsibility r(i,k) sent from node i candidate exemplar k
 reflects the accumulated evidence for how well-suited
 point k is to serve as exemplar for point i

 r(i,k) = s(i,k) - max, k' s.t. k' != k, {a(i,k')+s(i,k')}</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>k</code> - index of node which send r(i,k)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>r(i,k)</dd>
</dl>
</li>
</ul>
<a name="r-int-int-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>r</h4>
<pre>private&nbsp;double&nbsp;r(int&nbsp;k,
                 int&nbsp;firstK,
                 double&nbsp;firstMax,
                 double&nbsp;secondMax)</pre>
<div class="block">Compute r(i,k) in an optimized way.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>k</code> - index of node which send r(i,k)</dd>
<dd><code>firstK</code> - max of {a(i,j)+s(i,j)}</dd>
<dd><code>firstMax</code> - index q such that firstK == a(i,q)+s(i,q)</dd>
<dd><code>secondMax</code> - max of {a(i,j)+s(i,j), j!=firstMax }</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>r(i,k)</dd>
</dl>
</li>
</ul>
<a name="a-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>a</h4>
<pre>private&nbsp;double&nbsp;a(int&nbsp;i)</pre>
<div class="block">Compute a(i,k).
 Availability a(i,k), sent from candidate exemplar point k
 to point i, reflects the accumulated evidence for
 how appropriate it would be for point i to choose
 point k as its exemplars

 a(i,k) = min{0, r(k,k)+ Σ, i' s.t. i' != i &amp;&amp; i' != k, (max{0,r(i',k)})}</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - index of node which send a(i,k)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a(i,k)</dd>
</dl>
</li>
</ul>
<a name="a-int-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>a</h4>
<pre>private&nbsp;double&nbsp;a(int&nbsp;i,
                 double&nbsp;sum)</pre>
<div class="block">Compute r(i,k) in an optimized way</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - index of the node which send a(i,k)</dd>
<dd><code>sum</code> - r(k,k) + Σ max{0,r(i,q)} s.t. q != self</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a(i,k)</dd>
</dl>
</li>
</ul>
<a name="a--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>a</h4>
<pre>private&nbsp;double&nbsp;a()</pre>
<div class="block">Self availability is updated differently.
 This message reflects accumulated evidence that point k
 is an exemplar, based on the positive responsibilities
 sent to candidate exemplar k from other points</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a(k,k)</dd>
</dl>
</li>
</ul>
<a name="a-double-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>a</h4>
<pre>private&nbsp;double&nbsp;a(double&nbsp;sum)</pre>
<div class="block">Compute r(k,k) in an optimized way
 We don't need r(k,K) in "sum"</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sum</code> - r(k,k) + Σ max{0,r(i,q)} s.t. q != self</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>r(k,k)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Node.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="Neighbors.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="Ready.html" title="class in &lt;Unnamed&gt;"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Node.html" target="_top">Frames</a></li>
<li><a href="Node.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.akka.actor.AbstractActor">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
